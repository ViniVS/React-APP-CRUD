{"ast":null,"code":"import _slicedToArray from\"D:/Users/vinic/OneDrive/Documentos/GitHub/teste2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{makeStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)}};});export default function UserUpdate(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),firstname=_useState2[0],setFname=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),lastname=_useState4[0],setLname=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),cpfCnpj=_useState10[0],setCpfCnpj=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isError=_useState12[0],setIsError=_useState12[1];var classes=useStyles();var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetch(\"https://fakestoreapi.com/users/\"+id).then(function(res){return res.json();}).then(function(result){setFname(result.user.firstname);setLname(result.user.lastname);setUsername(result.user.username);setEmail(result.user.email);setCpfCnpj(result.user.cpfCnpj);});},[id]);var handleSubmit=function handleSubmit(event){event.preventDefault();var data={'id':id,'firstname':firstname,'lastname':lastname,'username':username,'email':email,'cpfCpnj':cpfCnpj};fetch('https://fakestoreapi.com/users/'+id,{method:'PUT',headers:{Accept:'application/form-data','Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(res){return res.json();}).then(function(result){alert(result['message']);if(result['status']==='ok'){window.location.href='/';}});};var handleCpfCnpjChange=function handleCpfCnpjChange(e){var value=e.target.value;var regex=/^[0-9]+$/;if(regex.test(value)){setCpfCnpj(value);setIsError(false);}else{setIsError(true);}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"User\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{autoComplete:\"firstname\",name:\"firstName\",variant:\"outlined\",required:true,fullWidth:true,id:\"firstName\",label:\"First Name\",onChange:function onChange(e){return setFname(e.target.value);},autoFocus:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"lastName\",label:\"Last Name\",onChange:function onChange(e){return setLname(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"username\",label:\"Username\",onChange:function onChange(e){return setUsername(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"email\",label:\"Email\",onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"CPFCNPJ\",label:\"CPF ou CNPJ\",onChange:handleCpfCnpjChange,value:cpfCnpj,error:isError,helperText:isError?'Digite apenas números':''})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,children:\"Update\"})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","makeStyles","Button","TextField","Grid","Typography","Container","useParams","jsx","_jsx","jsxs","_jsxs","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","UserUpdate","_useState","_useState2","_slicedToArray","firstname","setFname","_useState3","_useState4","lastname","setLname","_useState5","_useState6","username","setUsername","_useState7","_useState8","email","setEmail","_useState9","_useState10","cpfCnpj","setCpfCnpj","_useState11","_useState12","isError","setIsError","classes","_useParams","id","fetch","then","res","json","result","user","handleSubmit","event","preventDefault","data","method","headers","Accept","body","JSON","stringify","alert","window","location","href","handleCpfCnpjChange","e","value","target","regex","test","maxWidth","children","className","component","variant","onSubmit","container","item","xs","sm","autoComplete","name","required","fullWidth","label","onChange","autoFocus","error","helperText","type","color"],"sources":["D:/Users/vinic/OneDrive/Documentos/GitHub/teste2/src/UserUpdate.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function UserUpdate() {\r\n  const [firstname, setFname] = useState('');\r\n  const [lastname, setLname] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n\r\n  const [cpfCnpj, setCpfCnpj] = useState('');\r\n  const [isError, setIsError] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    fetch(\"https://fakestoreapi.com/users/\"+id)\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n          setFname(result.user.firstname)\r\n          setLname(result.user.lastname)\r\n          setUsername(result.user.username)\r\n          setEmail(result.user.email)\r\n          setCpfCnpj(result.user.cpfCnpj)\r\n          \r\n        }\r\n      )\r\n  }, [id])\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    var data = {\r\n      'id': id,\r\n      'firstname': firstname,\r\n      'lastname': lastname,\r\n      'username': username,\r\n      'email': email,\r\n      'cpfCpnj': cpfCnpj,\r\n\r\n    }\r\n    fetch('https://fakestoreapi.com/users/'+id, {\r\n      method: 'PUT',\r\n      headers: {\r\n        Accept: 'application/form-data',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n    .then(res => res.json())\r\n    .then(\r\n      (result) => {\r\n        alert(result['message'])\r\n        if (result['status'] === 'ok') {\r\n          window.location.href = '/';\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n\r\n  const handleCpfCnpjChange = (e) => {\r\n    const value = e.target.value;\r\n    const regex = /^[0-9]+$/;\r\n\r\n    if (regex.test(value)) {\r\n      setCpfCnpj(value);\r\n      setIsError(false);\r\n    } else {\r\n      setIsError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n      <Container maxWidth=\"xs\">\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          User\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"firstname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                onChange={(e) => setFname(e.target.value)}\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                onChange={(e) => setLname(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                onChange={(e) => setUsername(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"CPFCNPJ\"\r\n                  label=\"CPF ou CNPJ\"\r\n                  onChange={handleCpfCnpjChange}\r\n                  value={cpfCnpj}\r\n                  error={isError}\r\n                  helperText={isError ? 'Digite apenas números' : ''}\r\n                />\r\n            </Grid>\r\n\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Update\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}